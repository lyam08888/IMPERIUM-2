<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>IMPERIUM - Ma Cit√© : Roma Aeterna V19</title>
    <meta name="description" content="G√©rez votre cit√© romaine dans IMPERIUM - Construisez, d√©veloppez, prosp√©rez.">

    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><rect width='32' height='32' fill='%23b45309'/><text x='16' y='20' text-anchor='middle' fill='white' font-family='serif' font-size='20' font-weight='bold'>I</text></svg>" type="image/svg+xml">

    <!-- Stylesheets centralis√©s -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/imperium_popup.css">
    <link rel="stylesheet" href="css/loader.css">
    <link rel="stylesheet" href="css/simulator.css">

    <!-- Scripts de jeu -->
    <script src="js/shared-utils.js" defer></script>
    <script src="js/scenario.js" defer></script>
    <script src="js/game.js" defer></script>
    <script src="js/city-view.js" defer></script>
    <script src="js/BattleManager.js" defer></script>
    <script src="js/simulator-view.js" defer></script>
    <script src="nav.js" defer></script>
    <script src="js/imperium_popup.js" defer></script>

</head>
<body>
    <div id="loader">
        <div class="loader-spinner"></div>
    </div>

    <!-- Le contenu de nav.html sera inject√© ici par nav.js -->

    <div class="imperium-ui">
        <div class="imperium-body">
            <main class="main-content">
                <!-- =============================================================== -->
                <!-- VUE PRINCIPALE DE LA CIT√â -->
                <!-- =============================================================== -->
                <div id="city-view" class="view-container active">
                    <div class="city-map-section">
                        <div class="map-header">
                            <h2 class="view-title">Plan de la Cit√©</h2>
                        </div>
                        <div class="buildings-grid" id="buildingsGrid">
                            <!-- La grille des b√¢timents est g√©n√©r√©e par city-view.js -->
                        </div>
                    </div>
                    <div class="dashboard-grid">
                        <div class="dashboard-tile" onclick="showPlayerModal()">
                            <div class="tile-header">
                                <span class="tile-icon">üë§</span>
                                <h3 class="tile-title">Profil du Consul</h3>
                            </div>
                            <div class="tile-preview" id="player-tile-preview">Chargement...</div>
                        </div>
                        <div class="dashboard-tile" onclick="showResourcesModal()">
                             <div class="tile-header">
                                <span class="tile-icon">üí∞</span>
                                <h3 class="tile-title">Ressources</h3>
                            </div>
                            <div class="tile-preview" id="resources-tile-preview">Chargement...</div>
                        </div>
                        <div class="dashboard-tile" onclick="showStatsModal()">
                             <div class="tile-header">
                                <span class="tile-icon">üìä</span>
                                <h3 class="tile-title">Statistiques</h3>
                            </div>
                            <div class="tile-preview" id="stats-tile-preview">Chargement...</div>
                        </div>
                        <div class="dashboard-tile" onclick="showProductionModal()">
                             <div class="tile-header">
                                <span class="tile-icon">üìà</span>
                                <h3 class="tile-title">Production</h3>
                            </div>
                            <div class="tile-preview" id="production-tile-preview">Chargement...</div>
                        </div>
                        <div class="dashboard-tile" onclick="showTechModal()">
                             <div class="tile-header">
                                <span class="tile-icon">üî¨</span>
                                <h3 class="tile-title">Recherche</h3>
                            </div>
                            <div class="tile-preview" id="research-tile-preview">Chargement...</div>
                        </div>
                        <div class="dashboard-tile" onclick="showQuestModal()">
                             <div class="tile-header">
                                <span class="tile-icon">üéØ</span>
                                <h3 class="tile-title">Objectifs</h3>
                            </div>
                            <div class="tile-preview" id="quest-tile-preview">Chargement...</div>
                        </div>
                        <div class="dashboard-tile" onclick="showTerrestrialCombatModal()">
                             <div class="tile-header">
                                <span class="tile-icon">‚öîÔ∏è</span>
                                <h3 class="tile-title">Simulateur de Combat</h3>
                             </div>

                             <div class="tile-preview">Testez la puissance de vos l√©gions.</div>

                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Conteneurs pour les √©l√©ments dynamiques -->
    <div id="construction-footer" class="construction-footer"></div>
    <div id="modal-container" class="modal-container"></div>
    <div id="toast-container"></div>


    <!-- La popup IMPERIUM sera inject√©e ici par imperium_popup.js -->

    <script>
        window.addEventListener('load', () => {
            document.body.classList.add('loaded');
            document.querySelector('.imperium-ui').classList.add('content-fade-in');
        });
    </script>
</body>
</html>
