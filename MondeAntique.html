<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IMPERIUM - Monde Antique v19</title>
    <meta name="description" content="Dominez le monde antique par la conqu√™te, la diplomatie, la technologie et le commerce.">
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><rect width='32' height='32' fill='%23b45309'/><text x='16' y='20' text-anchor='middle' fill='white' font-family='serif' font-size='20' font-weight='bold'>I</text></svg>" type="image/svg+xml">


    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/imperium_popup.css">
    <link rel="stylesheet" href="css/loader.css">


    <script src="js/game.js" defer></script>
    <script src="js/world-view.js" defer></script>
    <script src="nav.js" defer></script>
    <script src="js/imperium_popup.js" defer></script>

</head>
<body>
    <div id="loader">
        <div class="loader-spinner"></div>
    </div>

    <div id="notifications-container"></div>


    <!-- Le contenu de nav.html sera inject√© ici par nav.js -->

    <div class="imperium-ui world-view-ui">
        <div class="imperium-body world-view-body">
            <main class="main-content">
                <div class="view-container world-view-container">
                    <div class="world-game-layout">
                        <div class="world-map-container" id="world-map">
                            <div id="map-content" class="world-map-content">
                                <!-- La carte est g√©n√©r√©e par world-view.js -->
                            </div>
                        </div>
                        <div class="world-bottom-hud">
                            <div class="command-grid world-command-grid" id="command-grid">
                                <!-- Les commandes sont g√©n√©r√©es par world-view.js -->
                            </div>
                            <div id="command-preview-text" class="world-command-preview"></div>

                        </div>
                    </div>
                    <div class="dashboard-grid">
                        <div class="dashboard-tile movable-tile" onclick="showPlayerModal()">
                            <div class="tile-header">
                                <span class="tile-icon">üë§</span>
                                <h3 class="tile-title">Profil du Consul</h3>
                            </div>
                            <div class="tile-preview" id="player-tile-preview">Chargement...</div>
                        </div>
                        <div class="dashboard-tile movable-tile" onclick="showResourcesModal()">
                             <div class="tile-header">
                                <span class="tile-icon">üí∞</span>
                                <h3 class="tile-title">Ressources</h3>
                            </div>
                            <div class="tile-preview" id="resources-tile-preview">Chargement...</div>
                        </div>
                        <div class="dashboard-tile movable-tile" onclick="showStatsModal()">
                             <div class="tile-header">
                                <span class="tile-icon">üìä</span>
                                <h3 class="tile-title">Statistiques</h3>
                            </div>
                            <div class="tile-preview" id="stats-tile-preview">Chargement...</div>
                        </div>
                        <div class="dashboard-tile movable-tile" onclick="showProductionModal()">
                             <div class="tile-header">
                                <span class="tile-icon">üìà</span>
                                <h3 class="tile-title">Production</h3>
                            </div>
                            <div class="tile-preview" id="production-tile-preview">Chargement...</div>
                        </div>
                        <div class="dashboard-tile movable-tile" onclick="showTechModal()">
                             <div class="tile-header">
                                <span class="tile-icon">üî¨</span>
                                <h3 class="tile-title">Recherche</h3>
                            </div>
                            <div class="tile-preview" id="research-tile-preview">Chargement...</div>
                        </div>
                        <div class="dashboard-tile" onclick="showQuestModal()">
                             <div class="tile-header">
                                <span class="tile-icon">üéØ</span>
                                <h3 class="tile-title">Objectif Actuel</h3>
                            </div>
                            <div class="tile-preview" id="quest-tile-preview">Chargement...</div>
                        </div>
                        <div class="dashboard-tile" onclick="window.location.href='Simulateur.html'">
                             <div class="tile-header">
                                <span class="tile-icon">‚öîÔ∏è</span>
                                <h3 class="tile-title">Simulateur de Combat</h3>
                             </div>

                             <div class="tile-preview">Testez la puissance de vos l√©gions.</div>

                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Modale personnalis√©e pour la vue du monde -->

    <div id="customModal" class="world-modal">
        <div class="world-modal-content">
            <span class="close-button world-modal-close-btn">&times;</span>
            <h3 class="modal-title" id="modalTitle"></h3>
            <div id="modalBody" class="world-modal-body"></div>
            <div id="modalButtons" class="world-modal-buttons"></div>

        </div>
    </div>

    <!-- La popup IMPERIUM sera inject√©e ici par imperium_popup.js -->
    <script>
        window.addEventListener('load', () => {
            document.body.classList.add('loaded');
            document.querySelector('.imperium-ui').classList.add('content-fade-in');
        });
    </script>
</body>
</html>
